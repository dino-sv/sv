<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RED ARCADE CONFESSION</title>

<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Poppins&display=swap" rel="stylesheet">

<style>
:root{
  --accent:#ff1e56;
  --bg:#8b0000;
}

*{box-sizing:border-box}

body{
  margin:0;
  height:100vh;
  background-color:var(--bg);
  background-image:
    linear-gradient(0deg, rgba(255,0,0,0.2) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255,0,0,0.2) 1px, transparent 1px);
  background-size:20px 20px;
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:'Press Start 2P',cursive;
  overflow:hidden;
  color:white;
}

/* scanlines */
.scanlines::before{
  content:"";
  position:fixed;
  inset:0;
  background:linear-gradient(rgba(255,255,255,.05) 50%,rgba(0,0,0,.2) 50%);
  background-size:100% 4px;
  pointer-events:none;
}

/* floating pixel hearts */
.pixel-heart{
  position:absolute;
  width:12px;
  height:12px;
  background:var(--accent);
  box-shadow:
    12px 0 var(--accent),
    0 12px var(--accent),
    12px 12px var(--accent),
    24px 12px var(--accent),
    12px 24px var(--accent);
  opacity:.35;
  animation:float 12s linear infinite;
}

@keyframes float{
  from{transform:translateY(110vh)}
  to{transform:translateY(-20vh)}
}

.arcade{
  width:95%;
  max-width:620px;
  background:#120000;
  border:10px solid var(--accent);
  border-radius:22px;
  box-shadow:0 0 60px var(--accent), inset 0 0 30px rgba(255,30,86,.4);
  padding:24px;
  text-align:center;
}

/* UI */
h1{
  font-size:18px;
  color:#ffd36a;
  text-shadow:0 0 12px var(--accent);
  margin-bottom:16px;
}

.screen{display:none; animation:pop .5s ease}
.screen.active{display:block}

@keyframes pop{
  from{opacity:0;transform:scale(.95)}
  to{opacity:1;transform:scale(1)}
}

.box{
  background:#000;
  border:6px solid var(--accent);
  padding:20px;
  margin:16px 0;
}

button{
  font-family:'Press Start 2P';
  background:#ffd36a;
  border:none;
  padding:14px 22px;
  margin:10px;
  cursor:pointer;
}
button:hover{background:#ff9f45}

/* progress bar */
.progress{
  height:10px;
  background:#400000;
  border:2px solid var(--accent);
  margin-bottom:10px;
}
.bar{
  height:100%;
  width:0%;
  background:#ffd36a;
}

/* insert coin */
.coin-slot{position:relative;height:80px;overflow:hidden}
.coin{
  width:26px;height:26px;border-radius:50%;
  background:radial-gradient(circle at top,#fff2a8,#ffd36a,#c99700);
  position:absolute;left:50%;top:-30px;
  transform:translateX(-50%);
  animation:dropCoin 2.2s ease-in-out infinite;
}
.insert-text{
  position:absolute;bottom:10px;width:100%;
  animation:blink 1.2s steps(1) infinite;
}
@keyframes dropCoin{
  0%{top:-30px;opacity:0}
  20%{opacity:1}
  60%{top:30px}
  80%,100%{opacity:0}
}
@keyframes blink{50%{opacity:0}}

/* text area */
textarea{
  width:100%;
  height:300px;
  background:#000;
  color:#ffb3c6;
  border:6px solid var(--accent);
  padding:18px;
  font-family:Poppins;
  font-size:15px;
  line-height:1.8;
  resize:none;
}

/* poem + ps */
.poem{
  font-family:Poppins;
  font-size:16px;
  line-height:2.3;
  font-style:italic;
  white-space:pre-line;
}

.ps{
  margin-top:18px;
  font-family:Poppins;
  font-size:13px;
  font-style:italic;
  opacity:0;
  animation:fadeIn 4s ease forwards;
  animation-delay:2s;
}

@keyframes fadeIn{
  to{opacity:.45}
}
</style>
</head>

<body class="scanlines">

<!-- hearts -->
<div class="pixel-heart" style="left:10%;animation-delay:0s"></div>
<div class="pixel-heart" style="left:30%;animation-delay:2s"></div>
<div class="pixel-heart" style="left:50%;animation-delay:4s"></div>
<div class="pixel-heart" style="left:70%;animation-delay:6s"></div>
<div class="pixel-heart" style="left:85%;animation-delay:1s"></div>

<div class="arcade">

<div class="progress"><div class="bar" id="bar"></div></div>

<!-- S1 -->
<div class="screen active" id="s1">
  <h1>RED ARCADE</h1>
  <div class="box coin-slot">
    <div class="coin"></div>
    <div class="insert-text">INSERT COIN</div>
  </div>
  <button onclick="go(2)">START GAME ‚ñ∂</button>
</div>

<!-- S2 -->
<div class="screen" id="s2">
  <h1>PLAYER NAME</h1>
  <div class="box">
    <input id="name" placeholder="enter your name"
      style="width:80%;padding:12px;font-family:Poppins;font-size:16px;text-align:center">
  </div>
  <button onclick="saveName()">CONFIRM ‚ñ∂</button>
</div>

<!-- S3 -->
<div class="screen" id="s3">
  <h1>CHOOSE CHARACTER</h1>
  <div class="box" style="display:flex;gap:14px;justify-content:center;flex-wrap:wrap">
    <button onclick="chooseChar('miffy')">
      <img src="https://i.imgur.com/PzUisgY.jpeg" width="64"><br>MIFFY
    </button>
    <button onclick="chooseChar('snoopy')">
      <img src="https://i.imgur.com/FzOvdoW.jpeg" width="64"><br>SNOOPY
    </button>
    <button onclick="chooseChar('dino')">
      <img src="https://i.imgur.com/I0egH8Q.jpeg" width="64"><br>DINO
    </button>
  </div>
</div>

<!-- Levels -->
<div class="screen" id="s4"><h1>LEVEL 1</h1><div class="box">sometimes i catch myself looking your way.</div><button onclick="next()">NEXT ‚ñ∂</button></div>
<div class="screen" id="s5"><h1>LEVEL 2</h1><div class="box">you cross my mind even on ordinary days.</div><button onclick="next()">NEXT ‚ñ∂</button></div>

<div class="screen" id="s6">
  <h1>LEVEL 3: COURAGE</h1>
  <div class="box">tap the heart 5 times</div>
  <button onclick="tap()">‚ù§Ô∏è</button>
  <p id="count">0 / 5</p>
</div>

<!-- Letter -->
<div class="screen" id="s7">
  <h1>CONFESSION</h1>
  <textarea id="letter" readonly></textarea>
  <button onclick="next()">CONTINUE ‚ñ∂</button>
</div>

<!-- Final game -->
<div class="screen" id="s8">
  <h1>FINAL GAME</h1>
  <div class="box">tap the star to finish the story</div>
  <button onclick="finishGame()">‚≠ê</button>
</div>

<!-- End -->
<div class="screen" id="s9">
  <h1>THE END</h1>
  <div class="box poem">
you were never a level to beat,

just someone worth waiting for.

if this was a game,
i‚Äôd play it slowly,
just to stay here a little longer.

whatever happens next,
i‚Äôm glad you were part of this story.
  </div>

  <div class="ps">
p.s. i spent a lot of time learning and coding this.  
i hope you at least like it :)
  </div>

  <div style="margin-top:25px;font-size:18px;color:#ffd36a;text-shadow:0 0 10px var(--accent)">
üéÜ HAPPY NEW YEAR üéÜ
  </div>
</div>

</div>

<script>
let screen=1,player='',hearts=0;
const bar=document.getElementById('bar');

function go(n){screen=n;show()}
function next(){screen++;show()}

function show(){
  document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
  document.getElementById('s'+screen).classList.add('active');
  bar.style.width=((screen-1)/8*100)+'%';
  if(screen===7) typeLetter();
}

function saveName(){
  const n=document.getElementById('name').value.trim();
  if(!n) return alert('enter your name');
  player=n;
  next();
}

function chooseChar(c){
  if(c==='dino'){document.body.style.backgroundColor='#0b3d1e';document.documentElement.style.setProperty('--accent','#3cff6b')}
  if(c==='miffy'){document.body.style.backgroundColor='#111';document.documentElement.style.setProperty('--accent','#ffffff')}
  if(c==='snoopy'){document.body.style.backgroundColor='#0b1a33';document.documentElement.style.setProperty('--accent','#5dade2')}
  next();
}

function tap(){
  hearts++;
  document.getElementById('count').innerText=hearts+' / 5';
  if(hearts>=5) next();
}

function finishGame(){next()}

const confession=()=>{
return `hey ${player}.
my heart‚Äôs been trying to tell me something for a while now,
and i think i finally listened.

i keep thinking about you.
like‚Ä¶ a lot.

and yeah, you‚Äôre really cute‚Äî
but it‚Äôs more than that.

it‚Äôs the way you smile without realizing it.
the way you talk about the smallest things like they matter.
the way you‚Äôre kind, even when no one‚Äôs watching.

you make me want to be softer.
braver.
more honest.

okay.
here it is‚Äî

i like you.
because you‚Äôre you.
and telling you this is more than enough.`;
}

function typeLetter(){
  const box=document.getElementById('letter');
  box.value='';
  let i=0;
  const text=confession();
  const t=setInterval(()=>{
    box.value+=text.charAt(i);
    box.scrollTop=box.scrollHeight;
    i++;
    if(i>=text.length) clearInterval(t);
  },35);
}
</script>
</body>
</html>
